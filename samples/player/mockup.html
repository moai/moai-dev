<html> 
<head> 
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="vendor/terminal/jquery.terminal.css">
    <link rel="stylesheet" href="vendor/perfect-scrollbar/css/perfect-scrollbar.css">
    <script src="host/vendor/jquery-1.10.2.js"></script>
	<script src="vendor/ace/ace.js" type="text/javascript" charset="utf-8"></script>
	<script src="vendor/ace/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
    <script src="vendor/terminal/jquery.terminal-0.8.7.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="vendor/perfect-scrollbar/js/perfect-scrollbar.js"></script>
</head>
<body>                                         
	<sample-browser> 
	<header>
		<h2>Sample Browser2</h2>
	</header>
	<sample-list>
        <div id="samplelist">
		<ul>
			<li class="selected">anim-basic</li>
			<li>hello-moai</li>
			<li>zipfs-test</li>
            <li>hello-moai</li>
            <li>zipfs-test</li>
            <li>hello-moai</li>
            <li>zipfs-test</li><li>hello-moai</li>
            <li>zipfs-test</li><li>hello-moai</li>
            <li>zipfs-test</li><li>hello-moai</li>
            <li>zipfs-test</li><li>hello-moai</li>
            <li>zipfs-test</li><li>hello-moai</li>
            <li>zipfs-test</li><li>hello-moai</li>
            <li>zipfs-test</li>






		</ul>
        </div>
	</sample-list>
	<file-display>             
		<file-item-display >
		<div  id="editor">----------------------------------------------------------------
-- Copyright (c) 2010-2011 Zipline Games, Inc. 
-- All Rights Reserved. 
-- http://getmoai.com
----------------------------------------------------------------

MOAISim.openWindow ( "test", 320, 480 )

viewport = MOAIViewport.new ()
viewport:setSize ( 320, 480 )
viewport:setScale ( 320, 480 )

layer = MOAILayer2D.new ()
layer:setViewport ( viewport )
MOAISim.pushRenderPass ( layer )

gfxQuad = MOAIGfxQuad2D.new ()
gfxQuad:setTexture ( "moai.png" )
gfxQuad:setRect ( -64, -64, 64, 64 )

prop = MOAIProp2D.new ()
prop:setDeck ( gfxQuad )
prop:setLoc ( 0, 80 )
layer:insertProp ( prop )

font = MOAIFont.new ()
font:loadFromTTF ( "arialbd.ttf", " abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789,.?!", 12, 163 )

textbox = MOAITextBox.new ()
textbox:setFont ( font )
textbox:setRect ( -160, -80, 160, 80 )
textbox:setLoc ( 0, -100 )
textbox:setYFlip ( true )
textbox:setAlignment ( MOAITextBox.CENTER_JUSTIFY )
layer:insertProp ( textbox )

textbox:setString ( "Moai has installed correctly! &lt;c:0F0&gt;Check out the samples folder.&lt;c&gt;" )
textbox:spool ()

function twirlingTowardsFreedom ()
	while true do
		MOAIThread.blockOnAction ( prop:moveRot ( 360, 1.5 ))
		MOAIThread.blockOnAction ( prop:moveRot ( -360, 1.5 ))
	end
end

thread = MOAIThread.new ()
thread:run ( twirlingTowardsFreedom )
</div>
		</file-item-display>
	<file-list>
        <div id="filelist">
	<ul> 
		<li class="selected">
			<file-icon>
				<img src="http://placehold.it/32x23">
				<span>main.lua</span>
			</file-icon>
		</li>
				<li >
			<file-icon>
				<img src="http://placehold.it/32x23">
				<span>arial.ttf</span>
			</file-icon>
		</li>

		<li >
			<file-icon>
				<img src="http://placehold.it/32x23">
				<span>moai.png</span>
			</file-icon>
		</li>

        <li class="selected">
            <file-icon>
                <img src="http://placehold.it/32x23">
                <span>main.lua</span>
            </file-icon>
        </li>
        <li class="selected">
            <file-icon>
                <img src="http://placehold.it/32x23">
                <span>main.lua</span>
            </file-icon>
        </li>
        <li class="selected">
            <file-icon>
                <img src="http://placehold.it/32x23">
                <span>main.lua</span>
            </file-icon>
        </li>
	</ul>
        </div>
	</file-list>
	</file-display>
	<player>      
		<div class="player-wrapper">

		<iframe src="./samplehost.html?sample=hello-moai"></iframe>

        </div>
		<player-console>
            <div id="terminal">

            </div>
        </player-console>
	</player>
	</sample-browser>


<script>
    //editor instance
    var editor = ace.edit("editor");

    editor.setTheme("ace/theme/monokai");
    var session = editor.getSession();

    editor.setShowPrintMargin(false);
    session.setMode("ace/mode/lua");
    editor.setOptions({
        enableBasicAutocompletion: true,
        enableSnippets: true
    });

    session.setUseWrapMode(true);
    //console
    var terminal = $('#terminal').terminal(function(command, term) {
                console.log("Got input",command)
            },
            {
                greetings: 'Moai Sample Player v1.00',
                name: 'sample_console',
                prompt: 'moai-lua> '
            });

    terminal.disable(); //steals focs


    //scrollbars
    var container = $('#samplelist')[0];
    Ps.initialize(container);
    //scrollbars
    container = $('#filelist')[0];
    Ps.initialize(container);


</script>

</body>
</html>